<!doctype html>
<html>
<head>
	<link href="{{ url_for('static', filename='compare.css') }}" rel="stylesheet" type="text/css">
	<title> Comparison Results </title>
</head>
	<body>
		<a href=rerouter>
			<button class="back">&lt</button> 
		</a>
		<br>
		<h1> Comparison Results</h1>

		<div class="text">
	<h2>Your similarity score is:</h2>
	<p id="cosine_score">Incorrect Input for Texts</p>
	<p id="jaccard_score"></p>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
</div>
	</body>
	 
	<script>
		var output_score = document.getElementById("jaccard_score").innerText;
		var output_score = document.getElementById("cosine_score").innerText;

		$(
			function() {
				test_compare();
				//fetchCompScore(output_score, "/testFunc");
			}
		);
		/*
		function fetchCompScore(score, link) {
			$.ajax({
				type: "GET",
				url: link,
				dataType: "json",
				success: function(result){
					score = result;
					document.getElementById("cosine_score").innerText = result;
				}
			});
		}*/

		async function test_compare() {

			var string1 = sessionStorage.getItem("firstString");
			var string2 = sessionStorage.getItem("secondString");


			const response = await fetch('/testFunc/'.concat(string1, "/", string2), {
				method: 'GET'
			});
			const results = await response.json();
			if(results.jaccard == "")
				document.getElementById("cosine_score").innerText = "No Text Input";
			else{
			document.getElementById("cosine_score").innerText = "Cosine Result: ".concat(results.cosine);
			document.getElementById("jaccard_score").innerText = "Jaccard Index Result: ".concat(results.jaccard);
			}
		}


	</script>
<html>
